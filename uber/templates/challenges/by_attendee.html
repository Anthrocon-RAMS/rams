{% extends "base.html" %}
{% block title %}Challenges by Attendee{% endblock %}
{% block content %}

<h2 align="center"> Challenges Completed by {{ identifier }} ({{ points }} point{{ points|pluralize }}) </h2>

<div style="text-align:center ; font-style:italic">
    (<a href="index">Return to Challenges Page</a>)
</div>

<h3> Record a Success: </h3>
<form method="post" action="record_success">
{% csrf_token %}
<input type="hidden" name="id"         value="None" />
<input type="hidden" name="badge_type" value="{{ badge_type }}" />
<input type="hidden" name="badge_num"  value="{{ badge_num }}" />
<input type="hidden" name="return_to"  value="by_attendee?badge_type={{ badge_type }}&badge_num={{ badge_num }}&" />

<select name="challenge_id">
    {% options challenges %}
</select>

<select name="level">
    {% options LEVEL_OPTS %}
</select>

<input type="submit" value="Record" />
</form>

<hr/>

<table>
<tr>
    <td></td>
    <td> <i>Challenge</i> </td>
    <td> <i>Level</i> </td>
    <td></td>
</tr>
{% for success in successes %}
    <tr>
        <td> <ul><li></li></ul> </td>
        <td style="padding-right:30px"> <b>{{ success.challenge.game }}</b> </td>
        <td style="padding-right:30px"> {{ success.get_level_display }} </td>
        <form method="post" action="delete_successes">
        <td>
            {% csrf_token %}
            <input type="hidden" name="succ_id" value="{{ success.id }}" />
            <input type="submit" value="Delete" />
        </td>
        </form>
    </tr>
{% endfor %}
</table>

{% endblock %}
